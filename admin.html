<!DOCTYPE html>
<html lang="en">
<head>
<title>Athlete Page</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
.athlete_drop_button{
	background-color: black;
	color: white;
	padding: 16px;
	font-size: 16px;
	border: none;
}
.athlete_dropdown {
  position: relative;
  display: inline-block;
}
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
  cursor: pointer;
}
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}
.dropdown-content a:hover {background-color: Gray; cursor: pointer;}
.athlete_dropdown:hover .dropdown-content {display: block;}
.athlete_dropdown:hover .athlete_drop_button {background-color: Dark Gray;}

.text_editor {
	min-width: 90%;
	margin-left: 5%;
	margin-top: 2%;
	resize: vertical;
}
</style>
</head>
<body>
<h1> Admin Control</h1>
<div class="athlete_dropdown">
	<button class ="athlete_drop_button">Amos Aguilera</button>
	<div class="dropdown-content">
		<p id= "Amos_Intro">Intro</p>
		<p id= "Stats">Stats</p>
	</div>
</div>
<textarea class = "text_editor" id = "txt_edit" >testing for text</textarea>
<button class = "save_button">Save</button>
<script>
	//const fs = require('fs');
	let save_location = "";
	document.getElementById("Amos_Intro").onclick = function() {load_data("./athlete_pages/athlete_data/amos_aguilera/amos_aguilera_intro.txt")};
	document.getElementById("save_button").onclick = function() {save_data()};

	function load_data(location){
		fetch(location)
			.then(x => x.text())
			.then(y => document.getElementById("txt_edit").innerHTML = y);
		save_location = location;
		console.log("Fetch attempted");
	};

	function save_data(){
		fetch(save_location)
			.then(x => x.text())
			.then(y => y = document.getElementById("txt_edit").innerHTML);
	};

	/*
	function save_data(){
		data = document.getElementById("txt_edit").innerHTML;
		fs.writeFile(save_location, data, (err) => {
			if (err) throw err;
		});
	};
	*/
</script>
</body>
</html>